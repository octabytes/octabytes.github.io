<div id="pricing" class="relative isolate bg-white px-6 py-24 sm:py-32 lg:px-8">
  <div
    class="absolute inset-x-0 -top-3 -z-10 transform-gpu overflow-hidden px-36 blur-3xl"
    aria-hidden="true">
    <div
      class="mx-auto aspect-[1155/678] w-[72.1875rem] bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-30"
      style="clip-path: polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"></div>
  </div>
  <div class="mx-auto max-w-4xl text-center">
    <h2 class="text-base/7 font-semibold text-indigo-600">Pricing</h2>
    <p
      class="mt-2 text-balance text-5xl font-semibold tracking-tight text-gray-900 sm:text-6xl">
      {{ .title }}
    </p>
  </div>
  <p
    class="mx-auto mt-6 max-w-2xl text-pretty text-center text-lg font-medium text-gray-600 sm:text-xl/8">
    {{ .description }}
  </p>
  <div class="mx-auto max-w-7xl  py-16 sm:py-24 sm:px-6 lg:px-8">
    <!-- xs to lg -->
    <div class="mx-auto max-w-2xl space-y-16 lg:hidden">
      {{ range .plans }}
        <section>
          <div class="mb-8 px-6 sm:px-4">
            <h2 class="text-lg font-medium leading-6 text-gray-900">
              {{ .name }}
            </h2>
            <p class="mt-4">
              <span class="text-4xl font-bold tracking-tight text-gray-900">
                ${{ .price }}
              </span>
              <span class="text-base font-medium text-gray-500">/mo</span>
            </p>
            <p class="mt-4 text-sm text-gray-500">
              {{ .description }}
            </p>
            <a
              href="#"
              class="mt-6 block w-full rounded-md border border-gray-800 bg-gray-800 py-2 text-center text-sm font-semibold text-white hover:bg-gray-900">
              Buy
              {{ .name }}
            </a>
          </div>

          <table class="w-full">
            <caption
              class="border-t border-gray-200 bg-gray-50 py-3 px-6 text-left text-sm font-medium text-gray-900 sm:px-4">
              Features
            </caption>
            <thead>
              <tr>
                <th class="sr-only" scope="col">Feature</th>
                <th class="sr-only" scope="col">Included</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-200">
              {{ range .features }}
                <tr class="border-t border-gray-200">
                  <th
                    class="py-5 px-6 text-left text-sm font-normal text-gray-500 sm:px-4"
                    scope="row">
                    {{ .name }}
                  </th>
                  <td class="py-5 pr-6 sm:pr-4">
                    {{ if eq .value "yes" }}
                      <svg
                        class="ml-auto h-5 w-5 text-green-500"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 20 20"
                        fill="currentColor"
                        aria-hidden="true">
                        <path
                          fill-rule="evenodd"
                          d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"
                          clip-rule="evenodd" />
                      </svg>
                      <span class="sr-only">Yes</span>
                    {{ else if eq .value "no" }}
                      <svg
                        class="ml-auto h-5 w-5 text-gray-400"
                        xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 20 20"
                        fill="currentColor"
                        aria-hidden="true">
                        <path
                          fill-rule="evenodd"
                          d="M4 10a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H4.75A.75.75 0 014 10z"
                          clip-rule="evenodd" />
                      </svg>
                      <span class="sr-only">No</span>
                    {{ else }}
                      <span class="block text-right text-sm text-gray-700">
                        {{ .value }}
                      </span>
                    {{ end }}

                  </td>
                </tr>
              {{ end }}
            </tbody>
          </table>

          <div class="border-t border-gray-200 px-6 sm:px-4 pt-5">
            <a
              href="#"
              class="block w-full rounded-md border border-gray-800 bg-gray-800 py-2 text-center text-sm font-semibold text-white hover:bg-gray-900">
              Buy
              {{ .name }}
            </a>
          </div>
        </section>
      {{ end }}
    </div>

    <!-- lg+ -->
    <div class="hidden lg:block">
      <table class="h-px w-full table-fixed">
        <caption class="sr-only">Pricing plan comparison</caption>
        <thead>
          <tr>
            <th
              class="px-6 pb-4 text-left text-sm font-medium text-gray-900"
              scope="col">
              <span class="sr-only">Feature by</span>
              <span>Plans</span>
            </th>

            {{ range .plans }}
              <th
                class="w-1/5 px-6 pb-4 text-left text-lg font-medium leading-6 text-gray-900"
                scope="col">
                {{ .name }}
              </th>
            {{ end }}

          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200 border-t border-gray-200">
          <tr>
            <th
              class="py-8 px-6 text-left align-top text-sm font-medium text-gray-900"
              scope="row">
              Pricing
            </th>

            {{ range .plans }}
              <td class="h-full py-8 px-6 align-top">
                <div class="relative table h-full">
                  <p>
                    <span
                      class="text-4xl font-bold tracking-tight text-gray-900">
                      ${{ .price }}
                    </span>
                    <span class="text-base font-medium text-gray-500">/mo</span>
                  </p>
                  <p class="mt-4 mb-16 text-sm text-gray-500">
                    {{ .description }}
                  </p>
                  <a
                    href="#"
                    class="5 absolute bottom-0 block w-full flex-grow rounded-md border border-gray-800 bg-gray-800 py-2 text-center text-sm font-semibold text-white hover:bg-gray-900">
                    Select
                    {{ .name }}
                  </a>
                </div>
              </td>
            {{ end }}
          </tr>

          <tr>
            <th
              class="bg-gray-50 py-3 pl-6 text-left text-sm font-medium text-gray-900"
              colspan="5"
              scope="colgroup">
              Features
            </th>
          </tr>

          {{ $plans := .plans }}
          {{ $allFeatureNames := slice }}
          {{ range $plans }}
            {{ range .features }}
              {{ $allFeatureNames = $allFeatureNames | append .name }}
            {{ end }}
          {{ end }}
          {{ $uniqueFeatureNames := $allFeatureNames | uniq }}
          {{ range $uniqueFeatureNames }}
            {{ $name := . }}
            <tr>
              <th
                class="py-5 px-6 text-left text-sm font-normal text-gray-500"
                scope="row">
                {{ $name }}
              </th>
              {{ range $plans }}
                {{ $feature := index (where .features "name" $name) 0 }}


                <td class="py-5 px-6">
                  {{ if eq $feature.value true }}
                    <svg
                      class="ml-auto h-5 w-5 text-green-500"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                      aria-hidden="true">
                      <path
                        fill-rule="evenodd"
                        d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"
                        clip-rule="evenodd" />
                    </svg>
                    <span class="sr-only">Yes</span>
                  {{ else if eq $feature.value false }}
                    <svg
                      class="ml-auto h-5 w-5 text-gray-400"
                      xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                      aria-hidden="true">
                      <path
                        fill-rule="evenodd"
                        d="M4 10a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H4.75A.75.75 0 014 10z"
                        clip-rule="evenodd" />
                    </svg>
                    <span class="sr-only">No</span>
                  {{ else }}
                    <span class="block text-right text-sm text-gray-700">
                      {{ $feature.value }}
                    </span>
                  {{ end }}
                </td>
              {{ end }}
            </tr>
          {{ end }}

        </tbody>
        <tfoot>
          <tr class="border-t border-gray-200">
            <th class="sr-only" scope="row">Choose your plan</th>

            {{ range .plans }}
              <td class="px-6 pt-5">
                <a
                  href="#"
                  class="block w-full rounded-md border border-gray-800 bg-gray-800 py-2 text-center text-sm font-semibold text-white hover:bg-gray-900">
                  Select
                  {{ .name }}
                </a>
              </td>
            {{ end }}

          </tr>
        </tfoot>
      </table>
    </div>
  </div>
</div>
